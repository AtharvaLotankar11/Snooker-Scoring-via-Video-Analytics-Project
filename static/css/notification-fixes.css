/**
 * Notification Popup Fixes - Snooker Detection Pro
 * Ensures proper contrast and visibility in both light and dark themes
 */

/* ===== THEME-AWARE NOTIFICATION STYLING ===== */

/* Base notification styling */
.notification-popup,
.theme-aware-notification,
.motivational-message {
    transition: all 0.3s ease !important;
    border-radius: 8px !important;
    backdrop-filter: blur(10px) !important;
}

/* Light theme notifications */
[data-theme="light"] .notification-popup,
[data-theme="light"] .theme-aware-notification,
[data-theme="light"] .motivational-message,
[data-theme="light"] .alert,
[data-theme="light"] .toast {
    background: #ffffff !important;
    color: #1a202c !important;
    border: 1px solid #e2e8f0 !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15) !important;
}

/* Light theme notification text */
[data-theme="light"] .notification-popup *,
[data-theme="light"] .theme-aware-notification *,
[data-theme="light"] .motivational-message *,
[data-theme="light"] .alert *,
[data-theme="light"] .toast * {
    color: #1a202c !important;
}

/* Light theme close buttons */
[data-theme="light"] .notification-popup .btn-close,
[data-theme="light"] .theme-aware-notification .btn-close,
[data-theme="light"] .motivational-message .btn-close,
[data-theme="light"] .alert .btn-close,
[data-theme="light"] .toast .btn-close {
    filter: invert(1) !important;
    opacity: 0.8 !important;
}

[data-theme="light"] .notification-popup .btn-close:hover,
[data-theme="light"] .theme-aware-notification .btn-close:hover,
[data-theme="light"] .motivational-message .btn-close:hover,
[data-theme="light"] .alert .btn-close:hover,
[data-theme="light"] .toast .btn-close:hover {
    opacity: 1 !important;
}

/* Dark theme notifications */
[data-theme="dark"] .notification-popup,
[data-theme="dark"] .theme-aware-notification,
[data-theme="dark"] .motivational-message,
[data-theme="dark"] .alert,
[data-theme="dark"] .toast {
    background: #374151 !important;
    color: #ffffff !important;
    border: 1px solid #6b7280 !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4) !important;
}

/* Dark theme notification text */
[data-theme="dark"] .notification-popup *,
[data-theme="dark"] .theme-aware-notification *,
[data-theme="dark"] .motivational-message *,
[data-theme="dark"] .alert *,
[data-theme="dark"] .toast * {
    color: #ffffff !important;
}

/* Ensure all text elements in dark notifications are white */
[data-theme="dark"] .notification-popup span,
[data-theme="dark"] .theme-aware-notification span,
[data-theme="dark"] .motivational-message span,
[data-theme="dark"] .alert span,
[data-theme="dark"] .toast span,
[data-theme="dark"] .notification-popup p,
[data-theme="dark"] .theme-aware-notification p,
[data-theme="dark"] .motivational-message p,
[data-theme="dark"] .alert p,
[data-theme="dark"] .toast p {
    color: #ffffff !important;
    font-weight: 500 !important;
}

/* Dark theme close buttons */
[data-theme="dark"] .notification-popup .btn-close,
[data-theme="dark"] .theme-aware-notification .btn-close,
[data-theme="dark"] .motivational-message .btn-close,
[data-theme="dark"] .alert .btn-close,
[data-theme="dark"] .toast .btn-close {
    filter: none !important;
    opacity: 0.8 !important;
}

[data-theme="dark"] .notification-popup .btn-close:hover,
[data-theme="dark"] .theme-aware-notification .btn-close:hover,
[data-theme="dark"] .motivational-message .btn-close:hover,
[data-theme="dark"] .alert .btn-close:hover,
[data-theme="dark"] .toast .btn-close:hover {
    opacity: 1 !important;
}

/* ===== SPECIFIC ALERT TYPES ===== */

/* Success alerts */
[data-theme="light"] .alert-success {
    background-color: #d1fae5 !important;
    color: #065f46 !important;
    border-color: #10b981 !important;
}

[data-theme="dark"] .alert-success {
    background-color: #064e3b !important;
    color: #d1fae5 !important;
    border-color: #10b981 !important;
}

/* Info alerts */
[data-theme="light"] .alert-info {
    background-color: #dbeafe !important;
    color: #1e40af !important;
    border-color: #3b82f6 !important;
}

[data-theme="dark"] .alert-info {
    background-color: #1e3a8a !important;
    color: #dbeafe !important;
    border-color: #3b82f6 !important;
}

/* Warning alerts */
[data-theme="light"] .alert-warning {
    background-color: #fef3c7 !important;
    color: #92400e !important;
    border-color: #f59e0b !important;
}

[data-theme="dark"] .alert-warning {
    background-color: #78350f !important;
    color: #fef3c7 !important;
    border-color: #f59e0b !important;
}

/* Danger alerts */
[data-theme="light"] .alert-danger {
    background-color: #fee2e2 !important;
    color: #991b1b !important;
    border-color: #ef4444 !important;
}

[data-theme="dark"] .alert-danger {
    background-color: #7f1d1d !important;
    color: #fee2e2 !important;
    border-color: #ef4444 !important;
}

/* ===== BOOTSTRAP TOAST FIXES ===== */

/* Toast headers */
[data-theme="light"] .toast-header {
    background-color: #f8f9fa !important;
    color: #1a202c !important;
    border-bottom: 1px solid #e2e8f0 !important;
}

[data-theme="dark"] .toast-header {
    background-color: #374151 !important;
    color: #ffffff !important;
    border-bottom: 1px solid #4b5563 !important;
}

/* Toast bodies */
[data-theme="light"] .toast-body {
    background-color: #ffffff !important;
    color: #1a202c !important;
}

[data-theme="dark"] .toast-body {
    background-color: #2d3748 !important;
    color: #ffffff !important;
}

/* ===== TOOLTIP AND POPOVER FIXES ===== */

[data-theme="light"] .tooltip .tooltip-inner {
    background-color: #1a202c !important;
    color: #ffffff !important;
}

[data-theme="light"] .tooltip .tooltip-arrow::before {
    border-top-color: #1a202c !important;
    border-bottom-color: #1a202c !important;
}

[data-theme="dark"] .tooltip .tooltip-inner {
    background-color: #ffffff !important;
    color: #1a202c !important;
}

[data-theme="dark"] .tooltip .tooltip-arrow::before {
    border-top-color: #ffffff !important;
    border-bottom-color: #ffffff !important;
}

/* ===== OVERRIDE ANY HARDCODED DARK BACKGROUNDS ===== */

/* Force override any elements with hardcoded dark backgrounds in light mode */
[data-theme="light"] .bg-dark,
[data-theme="light"] [class*="bg-dark"],
[data-theme="light"] [style*="background: black"],
[data-theme="light"] [style*="background-color: black"],
[data-theme="light"] [style*="background: #000"],
[data-theme="light"] [style*="background-color: #000"] {
    background: #ffffff !important;
    background-color: #ffffff !important;
    color: #1a202c !important;
}

/* Force white text in dark theme notifications - override any dark text */
[data-theme="dark"] .notification-popup,
[data-theme="dark"] .theme-aware-notification,
[data-theme="dark"] .motivational-message {
    color: #ffffff !important;
}

[data-theme="dark"] .notification-popup [style*="color: black"],
[data-theme="dark"] .notification-popup [style*="color: #000"],
[data-theme="dark"] .notification-popup [style*="color: #1a202c"],
[data-theme="dark"] .theme-aware-notification [style*="color: black"],
[data-theme="dark"] .theme-aware-notification [style*="color: #000"],
[data-theme="dark"] .theme-aware-notification [style*="color: #1a202c"],
[data-theme="dark"] .motivational-message [style*="color: black"],
[data-theme="dark"] .motivational-message [style*="color: #000"],
[data-theme="dark"] .motivational-message [style*="color: #1a202c"] {
    color: #ffffff !important;
}

/* Force override any elements with hardcoded white backgrounds in dark mode */
[data-theme="dark"] .bg-light,
[data-theme="dark"] [class*="bg-light"],
[data-theme="dark"] [style*="background: white"],
[data-theme="dark"] [style*="background-color: white"],
[data-theme="dark"] [style*="background: #fff"],
[data-theme="dark"] [style*="background-color: #fff"] {
    background: #2d3748 !important;
    background-color: #2d3748 !important;
    color: #ffffff !important;
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

/* High contrast mode overrides */
@media (prefers-contrast: high) {
    [data-theme="light"] .notification-popup,
    [data-theme="light"] .theme-aware-notification,
    [data-theme="light"] .alert,
    [data-theme="light"] .toast {
        border: 2px solid #000000 !important;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
    }
    
    [data-theme="dark"] .notification-popup,
    [data-theme="dark"] .theme-aware-notification,
    [data-theme="dark"] .alert,
    [data-theme="dark"] .toast {
        border: 2px solid #ffffff !important;
        box-shadow: 0 4px 20px rgba(255, 255, 255, 0.3) !important;
    }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    .notification-popup,
    .theme-aware-notification,
    .motivational-message,
    .alert,
    .toast {
        animation: none !important;
        transition: none !important;
    }
}

/* ===== MOBILE RESPONSIVENESS ===== */

@media (max-width: 768px) {
    .notification-popup,
    .theme-aware-notification,
    .motivational-message {
        max-width: calc(100vw - 40px) !important;
        right: 20px !important;
        left: 20px !important;
        margin: 0 auto !important;
    }
}

@media (max-width: 480px) {
    .notification-popup,
    .theme-aware-notification,
    .motivational-message {
        max-width: calc(100vw - 20px) !important;
        right: 10px !important;
        left: 10px !important;
        font-size: 0.9rem !important;
    }
}
/* ==
=== SPECIFIC NOTIFICATION POPUP OVERRIDES ===== */

/* Ensure notification popups always have proper contrast */
.notification-popup {
    font-weight: 500 !important;
}

[data-theme="dark"] .notification-popup {
    background: #374151 !important;
    color: #ffffff !important;
    border: 1px solid #6b7280 !important;
}

[data-theme="dark"] .notification-popup * {
    color: #ffffff !important;
}

[data-theme="dark"] .notification-popup .fas {
    color: #fbbf24 !important;
}

/* Override any inherited dark text colors in dark theme */
[data-theme="dark"] .notification-popup span,
[data-theme="dark"] .notification-popup div,
[data-theme="dark"] .notification-popup p {
    color: #ffffff !important;
    text-shadow: none !important;
}

/* Light theme notification popup */
[data-theme="light"] .notification-popup {
    background: #ffffff !important;
    color: #1a202c !important;
    border: 1px solid #e2e8f0 !important;
}

[data-theme="light"] .notification-popup * {
    color: #1a202c !important;
}

[data-theme="light"] .notification-popup .fas {
    color: #d97706 !important;
}